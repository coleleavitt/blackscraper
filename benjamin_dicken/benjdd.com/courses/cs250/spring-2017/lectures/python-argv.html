<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>cs250</title>
  <link href="https://fonts.googleapis.com/css?family=Lato:900|Work+Sans" rel="stylesheet">
  <link rel="stylesheet" href="/css/main.css">

  <link rel="stylesheet" href="/lib/highlight/styles/default.css">
  <script src="/lib/highlight/highlight.pack.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>

  <!-- Google fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;700&family=Poppins:ital,wght@0,400;0,700;1,400;1,700&family=Questrial&family=Roboto+Flex:opsz,wdth,wght,YTDE@8..144,110,400,-230;8..144,110,700,-230&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;1,100;1,300;1,400;1,500;1,700&display=swap" rel="stylesheet">

  <style>
  .lnp {
    font-size: 1.5em;
  }
  </style>

</head>
<body style="background-color: rgb(255, 255, 255)">
<script src="/js/theme.min.js"></script>

  <h1 id="csc-250-lecture-notes-command-line-arguments">CSc 250: Lecture Notes: Command Line Arguments</h1>

<h2 id="introduction">Introduction</h2>

<p>Recall that in bash we could access <strong>command line arguments</strong> typed on the command line after the name of the script.
The bash script could access and use these arguments within the script.
The example that was used to inroduce this concept earlier in the semester was:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>1 #!/bin/bash
2  
3 echo "The script being run is named: ${0}"
4 echo "Arguments provided:            $#"
5  
6 echo "     The first argument is:    ${1}"
7 echo "     The second argument is:   ${2}"
8 echo "     The third argument is:    ${3}"
</code></pre></div></div>

<ul>
  <li><code class="language-plaintext highlighter-rouge">${0}</code> stores the name of the script/program itself.</li>
  <li><code class="language-plaintext highlighter-rouge">${#}</code> stores the number of command line arguments given to the program.</li>
  <li>The <code class="language-plaintext highlighter-rouge">${1}</code>,<code class="language-plaintext highlighter-rouge">${2}</code>,…,<code class="language-plaintext highlighter-rouge">${N}</code> variables contein each of the actual arguments.</li>
</ul>

<p>We used this concept heavily in the first few homework assignments.</p>

<p>Command line arguments can also be given to a python script, and the arguments can be accessed from within the script.
However, the arguments are not stored in individually-numbered variables, like they are in bash.
In python, all of the arguments are stored in a <em>list</em>.
Specifically, they are stored in a list named <code class="language-plaintext highlighter-rouge">argv</code> that is insode of the <code class="language-plaintext highlighter-rouge">sys</code> module (<code class="language-plaintext highlighter-rouge">argv</code> is short for “argument vector”).</p>

<p>To access the name of the script/program, we must access the first element of the <code class="language-plaintext highlighter-rouge">sys.argv</code> list:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sys.argv[0]
</code></pre></div></div>

<p>To get the length of this list, do the usual:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>len(sys.argv)
</code></pre></div></div>

<p>However, this number includes the element that represents the name of the script.
To get the <em>number</em> of arguments other than the script name, do:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>len(sys.argv) - 1
</code></pre></div></div>

<p>And then, to get each other argument individually, do:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sys.argv[1]
sys.argv[2]
sys.argv[3]
...
</code></pre></div></div>

<h2 id="a-full-example">A Full Example</h2>

<p>Below is the contents of a python script named <code class="language-plaintext highlighter-rouge">args.py</code>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>import sys
print('This program was given ' + str(len(sys.argv)) + ' command-line arguments')
index = 1
for arg in sys.argv:
    print('Argument ' + str(index) + ' is ' + arg)
    index += 1
</code></pre></div></div>

<p>Here are a few runs of it from the bash shell:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ python3 args.py A B C
This program was given 4 command-line arguments
Argument 1 is args.py
Argument 2 is A
Argument 3 is B
Argument 4 is C
$
$ python3 args.py Hello World
This program was given 3 command-line arguments
Argument 1 is args.py
Argument 2 is Hello
Argument 3 is World
$
</code></pre></div></div>

<p>The number of arguments is off, because <code class="language-plaintext highlighter-rouge">len(sys.argv)</code> includes the script name, and the loop that prints out the arguments also includes the script name (<code class="language-plaintext highlighter-rouge">args.py</code>).
Here is a modification that improves the script to not include the script name in these parts:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>import sys
print('This program was given ' + str(len(sys.argv) - 1) + ' command-line arguments')
index = 1
while index &lt; len(sys.argv):
    print('Argument ' + str(index) + ' is ' + sys.argv[index])
    index += 1
</code></pre></div></div>

<p>Notice the changes:</p>

<ul>
  <li>Subtract 1 from <code class="language-plaintext highlighter-rouge">len(sys.argv)</code></li>
  <li>Use a <code class="language-plaintext highlighter-rouge">while</code> loop instead of a <code class="language-plaintext highlighter-rouge">for</code> loop in order to start from the second element of <code class="language-plaintext highlighter-rouge">sys.argv</code>.</li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ python3 args.py A B C
This program was given 3 command-line arguments
Argument 1 is A
Argument 2 is B
Argument 3 is C
$
$ python3 args.py Hello World
This program was given 2 command-line arguments
Argument 1 is Hello
Argument 2 is World
$
</code></pre></div></div>

<h2 id="another-example">Another Example</h2>

<p>Here is another example, that uses a command-line argument to look up a value in a dictionary:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>import sys

# The keys of this dictionary are superhero roles.
# The values are the actors who played the roles.
roles = {
    'Thor' : 'Chris Hemsworth',
    'Batman' : 'Christian Bale',
    'Superman' : 'Henry Cavill',
    'Wolverine' : 'Hugh Jackman'}

# If the first argument is 'who' and the second argument is 'played'
# and we have the role in our roles dictionary, then we can tell the
# user what actor played the role. We get the actor by looking it up
# in the dictionary.
# Otherwise, let the user know that the program is confused.
if sys.argv[1] == 'who' and sys.argv[2] == 'played' and sys.argv[3] in roles:
    role = sys.argv[3]
    actor = roles[role]
    print(actor + ' played ' + role)
else:
    print('Huh?')
</code></pre></div></div>

<p>Here are some runs:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ python3 find-role.py who played Thor
Chris Hemsworth played Thor
$ python3 find-role.py who played Superman
Henry Cavill played Superman
$ python3 find-role.py who played Bane
Huh?
$ python3 find-role.py I heart movies!
Huh?
$
</code></pre></div></div>



<footer>
    <div>&nbsp</div>
    <div style="text-align:center;">	&copy; Benjamin Dicken 2016 - 2024 </div>
    <div>&nbsp</div>
</footer>

</body>
</html>
