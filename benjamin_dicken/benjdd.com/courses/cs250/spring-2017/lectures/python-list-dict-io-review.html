<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>cs250</title>
  <link href="https://fonts.googleapis.com/css?family=Lato:900|Work+Sans" rel="stylesheet">
  <link rel="stylesheet" href="/css/main.css">

  <link rel="stylesheet" href="/lib/highlight/styles/default.css">
  <script src="/lib/highlight/highlight.pack.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>

  <!-- Google fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;700&family=Poppins:ital,wght@0,400;0,700;1,400;1,700&family=Questrial&family=Roboto+Flex:opsz,wdth,wght,YTDE@8..144,110,400,-230;8..144,110,700,-230&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;1,100;1,300;1,400;1,500;1,700&display=swap" rel="stylesheet">

  <style>
  .lnp {
    font-size: 1.5em;
  }
  </style>

</head>
<body style="background-color: rgb(255, 255, 255)">
<script src="/js/theme.min.js"></script>

  <h1 id="csc-250-lecture-notes-reviewing-lists-dictionaries-and-files">CSc 250: Lecture Notes: Reviewing Lists, Dictionaries, and Files</h1>

<p>We have already talked about lists, dictionaries, and reading/writing files.
In today’s lecture, we are going to combine all of these concepts and write some example program(s).</p>

<p><img src="/assets/memes/spring-break-1.jpg" width="250" /></p>

<h2 id="a-simple-thesaurus">A Simple Thesaurus</h2>

<p>As we probably all know, a <em>thesaurus</em> is a book that lists words in groups of synonyms and related concepts.
In this section, we’ll implement an extremely simple thesaurus.
This thesaurus will only return <em>one</em> “similar term” for a given word.
This program will read lookup requests from a user on the command line, and return the similar term.</p>

<p>First, let’s define how the thesaurus information will be stored.
For now, we will use a simple format that we are used to be now.
Each entry will be listed one-per-line.
The <strong>initial word</strong> will be first, then ther will be a vertical bar (<code class="language-plaintext highlighter-rouge">|</code>), and this is followed by the <strong>similar word</strong>.
For example:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>dark | dim
small | tiny
happy | delighted
fast | speedy
cheap | bargain
</code></pre></div></div>

<p>Our program <code class="language-plaintext highlighter-rouge">thesaurus.py</code> will assume that a file named <code class="language-plaintext highlighter-rouge">thesaurus-db.txt</code> exists in the <code class="language-plaintext highlighter-rouge">/tmp</code> directory.</p>

<p>The first step of our program will be to read the contents of the thesaurus file and save it in a data-structure.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>thesaurus = {}

f = open('/tmp/thesaurus-db.txt', 'r')
for line in f:
    sp = line.split(' | ')
    initial_word = sp[0].strip()
    similar_word = sp[1].strip()
    thesaurus[initial_word] = similar_word
</code></pre></div></div>

<p>After this code is executed, the thesaurus file has been read in.
All of the <strong>initial words</strong> are mapped to their associated <strong>similar word</strong> in <code class="language-plaintext highlighter-rouge">thesaurus</code>.
The <strong>initial words</strong> are the keys, and the <strong>similar words</strong> are the <em>values</em>.</p>

<p>The next step is to ask the user what word they want to know similar word(s) of:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>import sys

print('Welcome to the thesaurus!')
print('What word would you like to know about?')

word = sys.stdin.readline().strip()
</code></pre></div></div>

<p>We should be faimiliar with this technique for reading in information.</p>

<p>Now let’s look up the word in the dictionary and see what we know about it.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>if word in thesaurus:
    print('Similar word(s) to "' + word + '": ' + thesaurus[word])
else:
    print('Unable to find similar words to "' + word + '"')
</code></pre></div></div>

<p>Putting it all together, the program looks like:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>###
### Author: Benjamin Dicken
### Description:
### This program reads in a thesaurus database, and provides an interface
### for users to request information about words in the database.
###

thesaurus = {}

f = open('/tmp/thesaurus-db.txt', 'r')
for line in f:
    sp = line.split(' | ')
    initial_word = sp[0].strip()
    similar_word = sp[1].strip()
    thesaurus[initial_word] = similar_word

import sys

print('Welcome to the thesaurus!')
print('What word would you like to know about?')

word = sys.stdin.readline().strip()

if word in thesaurus:
    print('Similar word(s) to "' + word + '": ' + thesaurus[word])
else:
    print('Unable to find similar words to "' + word + '"')
</code></pre></div></div>

<p>After doing a few test runs, this seems to work well:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ python3 thesaurus.py
Welcome to the thesaurus!
What word would you like to know about?
fast
Similar word(s) to "fast": speedy
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ python3 thesaurus.py
Welcome to the thesaurus!
What word would you like to know about?
dark
Similar word(s) to "dark": dim
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ python3 thesaurus.py
Welcome to the thesaurus!
What word would you like to know about?
dinosoar
Unable to find similar words to "dinosoar"
</code></pre></div></div>

<h2 id="supporting-multiple-similar-words">Supporting Multiple Similar Words</h2>

<p>This program is great, and works well.
However, a thesaurus that only suggests one <strong>similar word</strong> isn’t super useful.
Let’s make some changes to this program which will give it the ability to suggust any number of similar words.</p>

<p>For starters, the format of the input file needs to be changed
Again, each thesaurus entry will be on it’s own line.
The <strong>initial word</strong> will come first, followed by a <code class="language-plaintext highlighter-rouge">|</code>.
After the <code class="language-plaintext highlighter-rouge">|</code>, the list of <strong>similar words</strong> will be separated by commas.
For example:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>dark | dim,dull,dusk
small | tiny,little,mini,compact
happy | delighted,cheerful
fast | speedy,rapid,brisk,swift,agile
cheap | bargain,economical
</code></pre></div></div>

<p>We also need to change the way we parse this file when reading it and saving it into the <code class="language-plaintext highlighter-rouge">thesaurus</code> dictionary.
Previously, we have mapped the initial word (a string) to the similar word (also a string), but now we need to map a the initial word to multiple words.
To accomplish this, we will map each initial word to a <em>list</em> of words.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>f = open('/tmp/thesaurus-db.txt', 'r')
for line in f:
    sp = line.split(' | ')
    initial_word  = sp[0].strip()
    similar_words = sp[1].strip().split(',')
    thesaurus[initial_word] = similar_words
</code></pre></div></div>

<p>Notice the differences between this code and the previous version.</p>

<p>Next, read in a word request, the same exact way we did before.</p>

<p>The retreival/printing also needs to be modified so that it can report multiple similar words:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>if word in thesaurus:
   print('Similar word(s) to "' + word + '": ')
    for similar_word in thesaurus[word]:
        print('  ' + similar_word)
else:
    print('Unable to find similar words to "' + word + '"')
</code></pre></div></div>

<p>Putting it all together looks similar:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>###
### Author: Benjamin Dicken
### Description:
### This program reads in a thesaurus database, and provides an interface
### for users to request information about words in the database.
###

thesaurus = {}

f = open('/tmp/thesaurus-db.txt', 'r')
for line in f:
    sp = line.split(' | ')
    initial_word  = sp[0].strip()
    similar_words = sp[1].strip().split(',')
    thesaurus[initial_word] = similar_words

import sys

print('Welcome to the thesaurus!')
print('What word would you like to know about?')

word = sys.stdin.readline().strip()

if word in thesaurus:
    print('Similar word(s) to "' + word + '": ')
    for similar_word in thesaurus[word]:
        print('  ' + similar_word)
else:
    print('Unable to find similar words to "' + word + '"')
</code></pre></div></div>

<p>A few runs confirm that it works correctly:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ python3 thesaurus.py
Welcome to the thesaurus!
What word would you like to know about?
fast
Similar word(s) to "fast":
  speedy
  rapid
  brisk
  swift
  agile
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ python3 thesaurus.py
Welcome to the thesaurus!
What word would you like to know about?
dinosoar
Unable to find similar words to "dinosoar"
</code></pre></div></div>

<h2 id="adding-definitions">Adding Definitions</h2>

<p>Let’s add each initial word’s definition to the thesaurus database file, so that the program can both <em>define</em> the initial word and give similar word suggestions.
Again, we need to change the format of ths database.
Each entry will be on it’s own line.
Each line will have <em>two</em> separate <code class="language-plaintext highlighter-rouge">|</code>s.
Before the first will be the initial word, between the first and second will be the definition, and after the second will be the list of suggested words.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>dark | having very little or no light | dim,dull,dusk
small | of limited size | tiny,little,mini,compact
happy | delighted, pleased, or glad, as over a particular thing | delighted,cheerful
fast | moving or able to move, operate, function, or take effect quickly | speedy,rapid,brisk,swift,agile
cheap | costing very little| bargain,economical
</code></pre></div></div>

<p>Now, let’s modify how we read, extract, and store this information:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>thesaurus = {}
definitions = {}

f = open('/tmp/thesaurus-db.txt', 'r')
for line in f:
    sp = line.split(' | ')

    initial_word  = sp[0].strip()
    definition    = sp[1].strip()
    similar_words = sp[2].strip().split(',')

    definitions[initial_word] = definition
    thesaurus[initial_word]   = similar_words
</code></pre></div></div>

<p>The thesaurus words are stored the same way they were before.
The definitions are stored in a new dictionary.
The keys are the initial words, and the values are the definition string.</p>

<p>Reading in the word suggestion works the same as before.</p>

<p>The retreival/printing also needs to be modified so that it can report the definition:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>if word in thesaurus:
    print('Definition of "' + word + '": ' + definitions[word])
    print('Similar word(s) to "' + word + '": ')
    for similar_word in thesaurus[word]:
        print('  ' + similar_word)
else:
    print('Unable to find similar words to "' + word + '"')
</code></pre></div></div>

<p>The final result:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>###
### Author: Benjamin Dicken
### Description:
### This program reads in a thesaurus database, and provides an interface
### for users to request information about words in the database.
###

thesaurus = {}
definitions = {}

f = open('/tmp/thesaurus-db.txt', 'r')
for line in f:
    sp = line.split(' | ')

    initial_word  = sp[0].strip()
    definition    = sp[1].strip()
    similar_words = sp[2].strip().split(',')

    definitions[initial_word] = definition
    thesaurus[initial_word]   = similar_words

import sys

print('Welcome to the thesaurus!')
print('What word would you like to know about?')

word = sys.stdin.readline().strip()

if word in thesaurus:
    print('Definition of "' + word + '": ' + definitions[word])
    print('Similar word(s) to "' + word + '": ')
    for similar_word in thesaurus[word]:
        print('  ' + similar_word)
else:
    print('Unable to find similar words to "' + word + '"')
</code></pre></div></div>

<p>A few example runs:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ python3 thesaurus.py
Welcome to the thesaurus!
What word would you like to know about?
fast
Definition of "fast": moving or able to move, operate, function, or take effect quickly
Similar word(s) to "fast":
  speedy
  rapid
  brisk
  swift
  agile
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ python3 thesaurus.py
Welcome to the thesaurus!
What word would you like to know about?
castaway
Unable to find similar words to "castaway"
</code></pre></div></div>



<footer>
    <div>&nbsp</div>
    <div style="text-align:center;">	&copy; Benjamin Dicken 2016 - 2024 </div>
    <div>&nbsp</div>
</footer>

</body>
</html>
