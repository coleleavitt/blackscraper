<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>CSc 250 Lab 10</title>
  <link href="https://fonts.googleapis.com/css?family=Lato:900|Work+Sans" rel="stylesheet">
  <link rel="stylesheet" href="/css/main.css">

  <link rel="stylesheet" href="/lib/highlight/styles/default.css">
  <script src="/lib/highlight/highlight.pack.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>

  <!-- Google fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;700&family=Poppins:ital,wght@0,400;0,700;1,400;1,700&family=Questrial&family=Roboto+Flex:opsz,wdth,wght,YTDE@8..144,110,400,-230;8..144,110,700,-230&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;1,100;1,300;1,400;1,500;1,700&display=swap" rel="stylesheet">

  <style>
  .lnp {
    font-size: 1.5em;
  }
  </style>

</head>
<body style="background-color: rgb(255, 255, 255)">
<script src="/js/theme.min.js"></script>

  <h1 id="csc-250-lab-10">CSc 250: Lab 10</h1>

<p><img src="/assets/memes/sql-meme-1.jpg" width="300" /></p>

<p>This lab was designed to be completed during lab-time for cs250.
This lab is not graded for correctness.
However, you should work through all of the problems, as it will help you on assignments and exams.
If you cannot complete the lab in the alloted time, finish at home.</p>

<p><strong>This particular lab was designed to be completed on the Mac lab machines in GS 930</strong></p>

<h2 id="all-problems">All Problems</h2>

<p>You will be writing a set of SQL statements that create tables, populate tables, query tables, and remove entries from tables.
All of your SQL should be put into a single file names <code class="language-plaintext highlighter-rouge">lab10.sql</code>.</p>

<h2 id="problem-1---warm-up">Problem 1 - Warm-up</h2>

<p>Open up a bash terminal window, and <code class="language-plaintext highlighter-rouge">cd</code> to the <code class="language-plaintext highlighter-rouge">Desktop</code> directory.
From here, run <code class="language-plaintext highlighter-rouge">sqlite3 testdb</code>, which will start up a new sqlite3 session.
You should see a prompt that looks like:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sqlite&gt;
</code></pre></div></div>

<p>This indicates that you are running sqlite3, and it is waiting for you to issue SQL queries.</p>

<p>From here run the following <code class="language-plaintext highlighter-rouge">CREATE</code> SQL statement:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>CREATE TABLE movie (title TEXT, director TEXT, year INT);
</code></pre></div></div>

<p>Then, insert a few entries into this new table by running:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>INSERT INTO movie VALUES ('Batman Begins', 'Christopher Nolan', 2005); 
INSERT INTO movie VALUES ('The Dark Knight', 'Christopher Nolan', 2008); 
INSERT INTO movie VALUES ('The Dark Knight Rises', 'Christopher Nolan', 2012); 
</code></pre></div></div>

<p>Finally, run the following <code class="language-plaintext highlighter-rouge">SELECT</code> query to get all of the rows and columns from this table:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>SELECT * FROM movie;
</code></pre></div></div>

<p>Now, exit the <code class="language-plaintext highlighter-rouge">sqlite3</code> session by typing <code class="language-plaintext highlighter-rouge">.exit</code> and hitting enter.
At this point you should see a new file named <code class="language-plaintext highlighter-rouge">testdb</code> created on the Desktop.
Do you?
If not, check with the instructor.</p>

<p>Now that you’ve exited <code class="language-plaintext highlighter-rouge">sqlite3</code>, you are bash in bash (you should see the <code class="language-plaintext highlighter-rouge">$</code> prompt again).
Run <code class="language-plaintext highlighter-rouge">sqlite3 testdb</code> again, and at the prompt re-run the <code class="language-plaintext highlighter-rouge">SELECT * FROM movie;</code> query.
Do you see the same result you saw the first time you ran it?
You should, and this indicated that the database will correctly save what you store in it in-between sessions.
Exit sqlite3 again.</p>

<h2 id="problem-2---creating-a-schema">Problem 2 - Creating a Schema</h2>

<p><img src="/assets/memes/all-the-schema.jpg" width="200" /></p>

<p>In this problem, you will write the Schema for a movie database.</p>

<p>From the desktop, run <code class="language-plaintext highlighter-rouge">sqlite3 moviedb</code>, which will create a new (empty) sqlite3 database file named moviedb.
In this database you should create two tables to store information about movies and their associated directors.</p>

<p>Create one table named <code class="language-plaintext highlighter-rouge">director</code> should should have the following attributes (columns):</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">first_name</code> - The director’s first name</li>
  <li><code class="language-plaintext highlighter-rouge">last_name</code> - The director’s last name</li>
  <li><code class="language-plaintext highlighter-rouge">age</code> - The director’s age</li>
  <li><code class="language-plaintext highlighter-rouge">director_id</code> - A unique ID for each director</li>
</ul>

<p>Then create a table named <code class="language-plaintext highlighter-rouge">movie</code>.
It should have the following attributes (columns):</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">title</code> - The title of the movie</li>
  <li><code class="language-plaintext highlighter-rouge">year</code> - The release year</li>
  <li><code class="language-plaintext highlighter-rouge">rt_rating</code> - The rotten tomatoes rating (a number ranging from 0-100)</li>
  <li><code class="language-plaintext highlighter-rouge">movie_id</code> - A unique ID. Each movie should have a different ID.</li>
  <li><code class="language-plaintext highlighter-rouge">director_id</code> - The ID of the director. This will reference IDs from the <code class="language-plaintext highlighter-rouge">director</code> table, once we insert some rows.</li>
</ul>

<p>Creating this schema will involve writing two <code class="language-plaintext highlighter-rouge">CREATE</code> SQL statements.</p>

<h2 id="problem-3---adding-some-data">Problem 3 - Adding some Data</h2>

<p>Now it’s time to add some data to the tables we just created!</p>

<p>Write <code class="language-plaintext highlighter-rouge">INSERT</code> statements to insert <em>at least</em> 7 rows into <em>each</em> table.
Make sure each of the rows have realistic an unique information in them.
If you need to, google for information like the rotten tomatoes rating, movie release year, director ages, etc.
Also, make sure that the IDs from the <code class="language-plaintext highlighter-rouge">director_id</code> column in the <code class="language-plaintext highlighter-rouge">movie</code> table matches the associated <code class="language-plaintext highlighter-rouge">director_id</code> from the <code class="language-plaintext highlighter-rouge">director</code> table.
Look up each movie’s rotten tomato rating online to fill in the values for that column.</p>

<p>Once you’ve inserted the rows, run <code class="language-plaintext highlighter-rouge">SELECT * FROM movie;</code> and <code class="language-plaintext highlighter-rouge">SELECT * FROM director;</code> to make sure the information is in the database tables.</p>

<h2 id="problem-4---query-the-data">Problem 4 - Query the Data</h2>

<p>For each of the bullet points below, write a SQL <code class="language-plaintext highlighter-rouge">SELECT</code> query that gets only the described information out of the <code class="language-plaintext highlighter-rouge">movie</code> table:</p>

<ul>
  <li>Get only the titles for all rows in <code class="language-plaintext highlighter-rouge">movie</code></li>
  <li>Get only the titles and rotten tomato ratings for all rows in <code class="language-plaintext highlighter-rouge">movie</code></li>
  <li>Get only the titles and rotten tomato ratings for all rows whose rotten tomato rating is greater-than 80 in <code class="language-plaintext highlighter-rouge">movie</code></li>
</ul>

<p>An now, a few from the <code class="language-plaintext highlighter-rouge">director</code> table:</p>

<ul>
  <li>Get only the first name and last name for all rows in <code class="language-plaintext highlighter-rouge">director</code></li>
  <li>Get only the first name and last name for all rows in <code class="language-plaintext highlighter-rouge">director</code>, only if the director is older than 55</li>
</ul>



<footer>
    <div>&nbsp</div>
    <div style="text-align:center;">	&copy; Benjamin Dicken 2016 - 2024 </div>
    <div>&nbsp</div>
</footer>

</body>
</html>
