<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<title>CSc 120: Rhyming Words</title>
    <meta http-equiv="Content-type" content="text/html;charset=UTF-8" />
<link href="../../style.css" rel="stylesheet" type="text/css"/>

</head>
<body bgcolor="white">
<p>
<img src="../../IMGS/uadcs.gif" alt="University of Arizona, Department of Computer Science"/>
</p>

<h1>CSc 120: Rhyming Words</h1>

<h2>Background</h2>

Most of us have, at some point in our lives, struggled to find just the right 
rhyme to some word.  Figuring out good rhymes 
<a href="http://www.11points.com/Music/11_Most_Hilariously_Awful_Rhymes_in_Music_History" target="_blank">
  isnâ€™t always easy</a>, but it might help if 
we could easily come up with a list of possible rhyming words to choose from.  
This program is a step in this direction.
<p/>
This problem involves writing a program to find all the words that rhyme with 
some given input word.  To do this, it will be necessary to reason about the 
pronunciation of different words; this information will be read from a file (the 
&quot;pronunciation dictionary&quot;) that gives information about the pronunciations of a 
wide variety of words.  For this assignment, we will use pieces of the file
<a href="PronunciationDictionary.txt" target="_blank">PronunciationDictionary.txt</a>
as pronunciation dictionaries.  In particular, for testing and debugging your code you
can use smaller subsets of this file (several such subsets are given here  
<a href="EXAMPLES-rhymer.html" target="_blank">Rhymer Example inputs and outputs</a>, and you can create your own).
<p/>
This document, <a href="phonetic.html" target="_blank">Phonetics and Pronunciation</a>, explains how to 
interpret the pronunciation information given in the 
<a href="PronunciationDictionary.txt" target="_blank">pronunciation dictionary</a>.
<p/>

<h2>Restrictions</h2>
<ol>
  <li>
    For the long problem, your code should follow the <a href="../../pgm-style.html" target="_blank">style guidelines</a>
    for the class. You must follow the updated guidelines for commenting classes.
  <li>
You may not use concepts and/or short-hand syntax not yet covered in class. The restrictions include the following:
<ul>
  <li>
  sets
  </li>
  <li>
 dictionary or list comprehensions, e.g., [n * 2 for i in range(10)]
  </li>
  <li>
 with open (explicitly open and close the file instead)
  </li>
  <li>
 the ternary operator (use an if instead)
  </li>
  <li>
  nested functions (using def <i>within</i> a function to define another function)
  </li>
  <li>
 exceptions (try/except)
  </li>
  <li>
 type annotations
  </li>
  <li>
 lambda expressions 
  </li>
  <li>
 generators and user defined iterators
  </li>
  <li>
 default arguments
  </li>
  <li>
  decorators
  </li>
  <li>
 importing libraries (unless a library is explicitly mentioned in the specification)
  </li>
  </li>
</ol>
<h2>Definitions</h2>
It turns out that there are many different kinds of rhymes (see Wikipedia for a 
<a href="https://en.wikipedia.org/wiki/Rhyme#Types_of_rhyme" target="_blank">
  discussion</a>). For the purposes of this assignment, we will focus on 
<i><a href="https://en.wikipedia.org/wiki/Perfect_rhyme" target="_blank">perfect rhymes</a></i>.  
Wikipedia  defines this kind of rhyme as satisfying the following two conditions:
<p/>
<ol>
  <li>
    The stressed vowel sound (i.e., the primary stress) in both words must be identical,
    as well as any subsequent sounds. For example, &quot;sky&quot; and 
    &quot;high&quot;; &quot;skylight&quot; and &quot;highlight&quot;.
  </li>
  <li>
    The <strike>sound</strike> phoneme that precedes the stressed vowel in the words must not be the same. 
    For example, &quot;bean&quot; and &quot;green&quot; is a perfect rhyme,
    while &quot;leave&quot; and &quot;believe&quot; is not.
  </li>
</ol>
<p/>
In the rest of this document, &quot;rhyme&quot; refers to perfect
rhymes unless otherwise specified.
<p/>
This link, <a href="perfect-rhymes.html" target="_blank">Identifying Perfect Rhymes</a>, gives
several examples of words that form perfect rhymes and words that don't, 
and shows how we can figure out whether or not two words rhyme.

<h2>Expected Behavior</h2>
Write a program, in a file <b>rhymes.py</b>, that finds words that rhyme with
a given word.  Your program should behave as follows:
<p/>
<ol>
  <li>
    Use <b><tt>input()</tt></b> (without arguments) to read the name of the
    pronunciation dictionary file <i>pfile</i>.  Do <i><u>not</u></i>
    prompt the user for input.  Do <i><u>not</u></i> hard-code the file name
    into your program.
    <p/>
  </li>
  <li>
    Read <i>pfile</i> and organize the information appropriately
    as directed below.
    <p/>
  </li>
  <li>
    Use <b><tt>input()</tt></b> (without arguments) to read in a word <i>word</i>.
    Do <i><u>not</u></i> prompt the user for input.
    <p/>
  </li>
  <li>
    Collect all the words that rhyme with <i>word</i>.  If <i>word</i> has
    more than one pronunciation (e.g., &quot;invalid&quot;, &quot;object&quot;, 
    &quot;record&quot;), then collect all the words that rhyme with each
    pronunciation.  It is not necessary to eliminate duplicates.
    See the <b>Examples</b> section below for examples of query processing using various pronunciation dictionaries.
    <p/>
    Ignore upper/lower-case differences when matching the input word with words
    in the pronunciation dictionary.
    <p/>
  </li>
  <li>
    Print out the words so collected (see <b>Output format</b> below).  
  </li>
</ol>
<p/>

<h2>Input Format</h2>
Each line of the input file describes the pronunciation for a word, and
has the following format:
<ul>
  <li>
    The word is given at the beginning of the line, up to the first whitespace.
  </li>
  <li>
    The rest of the line is a sequence of <a href="phonetic.html">phonemes</a>
    giving the pronunciation of the word.  The number of phonemes for a word,
    and therefore the length of the "pronunciation part" of the line, can be
    different for different words.
    <p/>
    <b>Example:</b> The large pronunciation dictionary in 
    <a href="PronunciationDictionary.txt" target="_blank">PronunciationDictionary.txt</a>
    shows three different pronunciations for the word
    &quot;record&quot;.  Each of these is given as a separate line in the file
    and looks like this, where the word itself is shown in black at the beginning of
    the line and the "pronunciation part" is shown in blue.  
    <blockquote>
     <tt>
        RECORD &nbsp; <font color="blue">R&nbsp; AH0&nbsp; K&nbsp; AO1&nbsp; R&nbsp; D</font><br/>
	RECORD &nbsp; <font color="blue">R&nbsp; IH0&nbsp; K&nbsp; AO1&nbsp; R&nbsp; D</font><br/>
	RECORD &nbsp; <font color="blue">R&nbsp; EH1&nbsp; K&nbsp; ER0&nbsp; D</font></tt>
    </blockquote>
  </li>
</ul>

<h2>Output Format</h2>

Print out, one word per line, all of the words that rhyme with <i>any</i> of 
the pronunciations of the user-provided input word. 
<ol>
<li>
Print the words in upper case, sorted alphabetically, one word per line.
</li>
<li>
If no rhyming word is found for the user-provided word, do not print anything.
</li>
<li>
You may assume that the user-provided word will always exist in the pronunciation dictionary and will have a primary stress phoneme.
</li>
<li>
Do not remove duplicates. (See note below.)
</li>

</ol>

    <p/>
    A note on duplicates: It may happen, in some cases, that the same rhyming word is found more
    than once, causing the output list of words to contain duplicates.
    This is OK: you do not have to remove any such duplicates before
    printing out the rhymes.  An example of this situation is for the input
    word <tt>SWORD</tt>, whose pronunciation is given as
    <blockquote>
      <tt>S &nbsp; AO1 &nbsp; R &nbsp; D</tt>
    </blockquote>
    As mentioned above, the word <tt>RECORD</tt> has three different pronunciations:
    <blockquote>
      <tt>R&nbsp; AH0&nbsp; K&nbsp; AO1&nbsp; R&nbsp; D<br/>
	R&nbsp; IH0&nbsp; K&nbsp; AO1&nbsp; R&nbsp; D<br/>
	R&nbsp; EH1&nbsp; K&nbsp; ER0&nbsp; D</tt>
    </blockquote>
    In this case, the first two pronunciations of <tt>RECORD</tt>, which
    differ in the vowel sound of the first syllable, both rhyme with <tt>SWORD</tt>.
    But while these two pronunciations of the word "<tt>RECORD</tt>" are different,
    the words themselves are the same.  So when we enter them into the list of
    rhyming words, it looks like we have a duplicate in the list of words rhyming with
    <tt>SWORD</tt>.
    <p/>

<p/>
<h2>Programming Requirements</h2>

You will need some kind of data structure to store the pronunciation(s) of
various words, so that you can look up the pronunciation of any given word.  
Use a dictionary for this.  Your dictionary should map each word to all
of the different pronunciations of that word.  For example:
<p/>
<blockquote>
<pre>
{
    'OBJECT' : [ ['AA1', 'B', 'JH', 'EH0','K','T'], 
                 ['AH0', 'B', 'JH', 'EH1', 'K', 'T'] ],
    'OBJECTOR' : [ ['AH0', 'B', 'JH', 'EH1', 'K', 'T', 'ER0'] ],
    'SOUR' : [ ['S', 'AW1', 'ER0'], 
               ['S', 'AW1', 'R'] ],
    'BECAUSE' : [ ['B', 'IH0', 'K', 'AO1', 'Z'], 
                  ['B', 'IH0', 'K', 'AH1', 'Z'], 
                  ['B', 'IH0', 'K', 'AA1', 'Z'], 
                  ['B', 'IH0', 'K', 'AH0', 'Z'] ],
    ...
}
</pre>
</blockquote>
<p/>
In this example, using <a href="PronunciationDictionary.txt" target="_blank">this</a>
pronunciation dictionary, the words <tt>OBJECT</tt> and <tt>SOUR</tt> have two pronunciations
each, so the dictionary maps each of these words to a list containing two elements;
each element is a list of phonemes and gives one pronunciation of the word.  
<tt>OBJECTOR</tt> has just one pronunciation, so the dictionary maps it to a list
containing just a single element, which is a list of phonemes making up that
pronunciation.  The word <tt>BECAUSE</tt> has four(!) different pronunciations, so
the dictionary maps this word to a list with four elements.


<h2>Examples</h2>

Some examples of query processing, on different pronunciation dictionaries, are shown
<a href="EXAMPLES-rhymer.html" target="_blank">Rhymer Example inputs and outputs</a>.



<h2>Development Strategy</h2>
Develop your code incrementally.
<p/>
<ol>
  <li>
    Read in the pronunciation dictionary and organize it into an appropriate
    data structure (see <b>Programming Requirements</b> above).  Think about
    the data structure you want to use&mdash;one has been suggested for
    you above, but anything else that satisfies the programming requirement
    stated will do.  Think about
    how you will populate this data structure as you read in words; this involves
    figuring out what pieces of information you need to extract from the
    input you read in.
  </li>
  <li>
    The next thing you have to do is to read in a word and find out which words
    rhyme with it.  What information about this word do you need before you
    can figure that out?  How can you find that information?
  </li>
  <li>
    Finally, what do you do once you find that information?
  </li>
</ol>
<p/>

<hr/>

</body>
</html>

