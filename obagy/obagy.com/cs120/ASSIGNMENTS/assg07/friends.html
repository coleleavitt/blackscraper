<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<title>CSc 120: Friends</title>
    <meta http-equiv="Content-type" content="text/html;charset=UTF-8" />
<link href="../../style.css" rel="stylesheet" type="text/css"/>

</head>
<body bgcolor="white">
<p>
<img src="../../IMGS/uadcs.gif" alt="University of Arizona, Department of Computer Science"/>
</p>

<h1>CSc 120: Friends</h1>

The primary purpose of this problem is to continue working with linked lists.

<h2>Restrictions</h2>
<ol>
  <li>
    For the long problems, your code should follow the <a href="../../pgm-style.html" target="_blank">style guidelines</a>
    for the class.
  <li>
You may not use concepts and/or short-hand syntax not yet covered in class. The restrictions include the following:
<ul>
  <li>
 list (or dictionary) comprehensions, e.g., [n * 2 for i in range(10)]
  </li>
  <li>
 with open (explicitly open and close the file instead)
  </li>
  <li>
 the ternary operator (use an if instead)
  <li>
 nested functions (using def <i>within</i> a function to define another function)
  </li>
  <li>
 recursion
  </li>
  <li>
 exceptions and asssertions
  </li>
  <li>
 type annotations
  </li>
  <li>
 lambda expressions 
  </li>
  <li>
 generators and user defined iterators
  </li>
  <li>
 default arguments
  </li>
  <li>
 importing libraries, unless a library is explicity allow in the specification 
  </li>
  <li>
<strong>New restriction:</strong> Using <b><tt>try/except</b></tt> to avoid having to check for <b><tt>None</b></tt> when iterating through a linked list is banned.
  </li>
</ul>
  </li>
</ol>

<h2>Background</h2>
Social media sites often look at what you have in common with your
friends (or followers, or contacts) to make suggestions.  As an example,
Facebook and LinkedIn will point out &quot;mutual friends&quot;, i.e.,
people whose friends have one or more people in common with yours.
This problem involves implementing a simple form of an algorithm for
identifying such mutual friends.
 
<h2>Expected Behavior</h2>
Write a Python program, in two files <b><tt>linked_list.py</tt></b> and
<b><tt>friends.py</tt></b>, that behaves as specified below.
The file <b><tt>linked_list.py</tt></b> should contain code implementing
the <b><tt>LinkedList</tt></b> and associated classes while
<b><tt>friends.py</tt></b> should contain code that uses these classes
to implement the functionality required of this program. At the top your
<b><tt>friends.py</tt></b> file, include the following statement so that you are able to use the classes in your linked list file:
    <blockquote>
      <b><tt>from linked_list import *</tt></b>
    </blockquote>
<p/>
Your program should behave as follows.
<p/>
<ol>
  <li>
    Read in the name of an input file using <b><tt>input('Input file: ')</tt></b>.
    Read in the contents of this file into your program.
    <p/>
  </li>

  <li>
    The data in the file specifies friendship relationships between pairs of
    names. Organize the data into the linked list structure specified under <b>Data structures</b> below.
    <p/>
    <b>NOTE:</b> Friendships are two-way relations (in mathematics, such relations
    are called 
    <a href="https://en.wikipedia.org/wiki/Symmetric_relation" 
       target="_blank"><i>symmetric</i></a>).  This means that for each input line
    of the form
    <blockquote>
      <b><tt>X &nbsp; Y</tt></b>
    </blockquote>
    you should set up your data structures to indicate two things:
    <p/>
    <ul>
      <li>
	<b><tt>X</tt></b> is a friend of <b><tt>Y</tt></b>; and
      </li>
      <li>
	<b><tt>Y</tt></b> is a friend of <b><tt>X</tt></b>.
      </li>
    </ul>
    <p/>
  </li>

  <li>
    Read in two names using the function calls below.  You can  use other variable names
    or your choice to store the values read in.  Strip off whitespace as necessary.
    <blockquote>
      <b><tt>name1 = input('Name 1: ')<br/>
	  name2 = input('Name 2: ')</tt></b>
    </blockquote>
    <p/>
  </li>

  <li>
    If there are friends in common, first print the following line:
    <pre>
    Friends in common: </pre>
    Then print out the name of each mutual friend of <b><tt>name1</tt></b> and 
    <b><tt>name2</tt></b>, i.e., any <b><tt>name3</tt></b> such that
    <b><tt>name3</tt></b> is a friend of both <b><tt>name1</tt></b> and 
    <b><tt>name2</tt></b> (see <b>Output format</b> below). Names must be printed in alphabetical order. 
    <p/>
    If there are no friends in common, no further output is produced. (That is, if there are no
    friends in common, the program only produces the input prompts.) 
  </li>
</ol>

<h2>Input format</h2>
Each line in the input file consists of two strings separated by whitespace
(blanks and tabs).  E.g.: the file 
<a href="DATA/in04.txt" target="_blank">in04.txt</a> is:
<blockquote>
  <tt>William Ethan<br/>
  Rebecca Lindsey<br/>
  William Lindsey<br/>
  William Patrick</tt>
</blockquote>
<p/>
You should not make assumptions about the amount of whitespace around and
between names.

<h2>Output format</h2>

    If there are friends in common, first print the following line:
    <pre>
    Friends in common: </pre>
    Then print out the name of each mutual friend in alphabetical order.
    <p/>
    If there are no friends in common, no further output is produced. (That is, if there are no
    friends in common, the program only produces the input prompts and does NOT print <tt>Friends in common:</tt>. ) 

<h2>Data Structures</h2>
    The names read in should be organized as a linked list with a
    node per name.
    Each node should have the following attributes:
    <p/>
    <ul>
      <li>
	a name (a string);
      </li>
      <li>
	the friends for that name (a linked list); and
      </li>
      <li>
	a reference to the next node.
      </li>
    </ul>
    <p/>
<p/>
For example, for the file <a href="DATA/in04.txt" target="_blank">in04.txt</a>
mentioned above (under <b>Input format</b>), the data structure should
be as shown below:

<blockquote>
  <a href="friends-data-structure.png" target="_blank">
    <img src="friends-data-structure.png" alt="friends-data-structure.png" width="40%"/></a><br/>
(click on the image for a larger picture)
</blockquote>


<h2>Programming Requirements</h2>

As you read in a line of the friendship data from the input file, you will strip and split the line.
 <strong><i>This is the only time that you can use a Python list in your solution.</i></strong> For each name, you must
 determine if the name is already in the "main" linked list of names and add it if not (as a node). 
In addition, add the name (as a node) to its friends linked list. 
<p style="color:red;"><strong>Your program must use linked lists to implement all of the following
tasks:</strong> </p>
<ol>
  <li>
    the names read in from the input file (which go into the "main" linked list)
  </li>
  <li>
    for each such name, the list of that person's friends
  </li>
  <li>
    the friends in common between two people
  </li>
  <li>
    sorting the common friends alphabetically for printing
  </li>
</ol>
<p/>
Your code should be organized among your files as follows:
<p/>
<ul>
  <li>
    <b><tt>linked_list.py</tt></b>: Code to <i>implement</i> the
    linked list class.
  </li>
  <li>
    <b><tt>friends.py</tt></b>: Code that <i>uses</i> methods from
    the linked list class to implement the application required by 
    this assignment.
  </li>
</ul>
<p/>
The methods defined in <b><tt>linked_list.py</tt></b> can be accessed
in <b><tt>friends.py</tt></b> using an <b><tt>import</tt></b> statement
in the latter file.
<p/>


<h2>Errors</h2>

You must check for the following error:
<p/>
<ol>
  <ul>
    One of the names <b><tt>name1</tt></b> or <b><tt>name2</tt></b> 
    cannot be found in the list of names. (Read in both names first. Check for <b><tt>name1</tt></b> first and <b><tt>name2</tt></b> second. At most one name will be unkown.)
    <p/>
    <i>Program behavior:</i> 
    Give the following error message and stop processing further.
    <p/>
    <p/>
    <i>Error message:</i> 
    <tt><b>&quot;ERROR: Unknown person &quot; + </b><i>name</i></tt>
    <p/>
  </ul>
</ol>

<h2>Examples</h2>

Some examples are shown
<a href="EXAMPLES-friends.html" target="_blank">here</a>.



<p/>
<hr/>

</body>
</html>

