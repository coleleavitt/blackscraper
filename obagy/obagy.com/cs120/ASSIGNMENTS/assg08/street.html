<!doctype html>
<html>
<head>
<title>CSc 120: Street</title>
<meta http-equiv="Content-type" content="text/html;charset=UTF-8">
<link href="../../style.css" rel="stylesheet" type="text/css">
<link href="style.css" rel="stylesheet" type="text/css">
<style>
    pre { margin-left: 3em; font-size: 1.1em}
	.filelink { font-family: monospace }
	code { font-size: 1.1em }
</style>

</head>
<body bgcolor="white">
<p>
<img src="../../IMGS/uadcs.gif" alt="University of Arizona, Department of Computer Science"/>
</p>

<h1>CSc 120: Street </h1>
The primary purpose of this problem is to gain more experience with recursion.

<h2>Restrictions</h2>
<ol>
  <li>
    For the long problems, your code should follow the <a href="../../pgm-style.html" target="_blank">style guidelines</a>
    for the class.
  <li>
You may not use concepts and/or short-hand syntax not yet covered in class. The restrictions include the following:
<ul>
  <li>
 list (or dictionary) comprehensions, e.g., [n * 2 for i in range(10)]
  </li>
  <li>
 with open (explicitly open and close the file instead)
  </li>
  <li>
 the ternary operator (use an if instead)
  <li>
 nested functions (using def <i>within</i> a function to define another function)
  </li>
  <li>
 exceptions and asssertions
  </li>
  <li>
 type annotations
  </li>
  <li>
 lambda expressions 
  </li>
  <li>
 generators and user defined iterators
  </li>
  <li>
 default arguments
  </li>
  <li>
 importing libraries, unless a library is explicity allow in the specification 
  </li>
  <li>
<p style="color: red">
IMPORTANT: As mentioned in the <a href=#progreq>Programming Requirements</a> section below, you are strictly prohibited from using <code>for</code> and/or <code>while</code> statements and/or list comprehensions in your solution.  Violating this restriction may result in a score of zero for this problem.
Also, you must write your own recursive functions for the built-in functions that examine every element of a list, such as sum(), index(), join(), replace() and max().  (However you can use max(a,b) where a and b are integers.)
<p>
  </li>
</ul>
  </li>
</ol>

<h2>Expected Behavior</h2>
<p>


Write a Python program in, <code>street.py</code>, that prompts the user for a one-line specification of a city street and then prints a simple ASCII rendering of it. The user should be prompted as follows:
<pre>
input("Street: ")
</pre>
The user responds with a specification that has some number of buildings, parks, and empty lots.
As an example, the input line
<pre>
p:19,* b:5,7,x e:7,__~
</pre>
is rendered as this:
<pre>+-------------------------------+
|                               |
|                   xxxxx       |
|                   xxxxx       |
|         *         xxxxx       |
|        ***        xxxxx       |
|       *****       xxxxx       |
|         |         xxxxx       |
|         |         xxxxx  ~  ~ |
+-------------------------------+
</pre>
<h2>Input format</h2>
<p>
The input will be a single line that contains one or more whitespace-separated specifications for buildings, parks, and/or empty lots that appear along the street.
<ul>
<li>
A building is specified with a string of the form <code>"b:<i>WIDTH</i>,<i>HEIGHT</i>,<i>BRICK</i>"</code>.  The building on the street shown above has this specification:<pre>
b:5,7,x
</pre>
The string above specifies a building with a width of five, a height of seven,
that is built of <code>"x"</code>s.  Assume that <code><i>WIDTH</i></code> and <code><i>HEIGHT</i></code> are integers greater than zero and that <code><i>BRICK</i></code> is always a single non-whitespace character.
<p>
<li>
A park is specified with a string of the form <code>"p:<i>WIDTH</i>,<i>FOLIAGE</i>"</code>.  A park has exactly one tree and that tree is centered in the park.  Parks always have an <u>odd</u> integer width that is greater than or equal to five.  Every park's tree has the same shape and size but has the <code><i>FOLIAGE</i></code> that is specified.
Like the brick for a building, <code><i>FOLIAGE</i></code> is always a single non-whitespace character.
The park shown on the street above has this specification:
<pre>
p:19,*
</pre>
<li>
An empty lot is specified with a string of the form <code>"e:<i>WIDTH</i>,<i>TRASH</i>"</code>.  (Sadly, empty lots tend to accumulate trash.) The empty lot shown on the street above has this specification:
<pre>
e:7,__~
</pre>
<p>
The <code><i>TRASH</i></code> string, <code>"__~"</code> in this case (two underscores and tilde), specifies a string that is repeated as necessary to span the width of the empty lot.
Replicating <code>"__~"</code> to its width of seven produces <code>"__~__~_"</code>.  Further, an underscore in a <code><i>TRASH</i></code> string is interpreted as a blank.  Combining those rules for this lot
(<code>"e:7,__~"</code>) produces this seven character string: <code>"&nbsp;&nbsp;~&nbsp;&nbsp;~&nbsp;"</code>.
<p>
A <code>TRASH</code> string may be longer than the width of the lot.  If so, the excess characters simply don't appear in the rendered lot.
</ul>
<p>
Here is a more complex street:
<pre>
b:3,10,a e:10,+- p:13,* b:7,15,x b:17,4,% b:10,8,y e:5,_ b:1,3,$ p:13,^ b:10,3,# e:9,__.
</pre>
and its rendering:
<pre>+--------------------------------------------------------------------------------------------------+
|                                                                                                  |
|                          xxxxxxx                                                                 |
|                          xxxxxxx                                                                 |
|                          xxxxxxx                                                                 |
|                          xxxxxxx                                                                 |
|                          xxxxxxx                                                                 |
|aaa                       xxxxxxx                                                                 |
|aaa                       xxxxxxx                                                                 |
|aaa                       xxxxxxx                 yyyyyyyyyy                                      |
|aaa                       xxxxxxx                 yyyyyyyyyy                                      |
|aaa                       xxxxxxx                 yyyyyyyyyy                                      |
|aaa                *      xxxxxxx                 yyyyyyyyyy            ^                         |
|aaa               ***     xxxxxxx%%%%%%%%%%%%%%%%%yyyyyyyyyy           ^^^                        |
|aaa              *****    xxxxxxx%%%%%%%%%%%%%%%%%yyyyyyyyyy     $    ^^^^^    ##########         |
|aaa                |      xxxxxxx%%%%%%%%%%%%%%%%%yyyyyyyyyy     $      |      ##########         |
|aaa+-+-+-+-+-      |      xxxxxxx%%%%%%%%%%%%%%%%%yyyyyyyyyy     $      |      ##########  .  .  .|
+--------------------------------------------------------------------------------------------------+
</pre>
<h2>Output format</h2>
<p>
Along with the specifications above, note these points:
<ul>
<li>A border surrounds the rendered street.
<li>The height of the rendering is one more than the tallest element that is drawn; effectively that produces a single line of padding at the top.  The height of a park is always five.  The height of an empty lot is always one.
</ul>
<p>
<h2 id=progreq>Programming Requirements</h2>
<p>
First, read the design approach discussed in this link: 
<a href=street-design.html target=_blank>Street Class Design</a>.
<p>
You must implement the three classes that 
represent the building, park, and empty lot elements of a street.
Specifically, write the following three classes:
<ul>
 <li>
 <code>class Building</code>
 </li>
 <li>
 <code>class Park</code>
 </li>
 <li>
 <code>class EmptyLot</code>
 </li>
</ul>

For each class, implement an <code>at_height</code> method for the class that returns a 
string that is the text for that element at the specified height.
Otherwise, you may write any additional methods for your classes that are needed to 
implement the full functionality of the program.
<p>
<u><b>An essential requirement of this problem is that you may not use any <code>for</code> or <code>while</code> statements or list comprehensions in your solution.</b></u>  Use recursion in place of looping, as you've seen done in lecture and have done yourself when solving the short problems and ICAs on recursion.
In addition, don't use any built-in Python functions that implicitly examine every element of a list,
such as <code>sum()</code>, <code>index()</code>, <code>join()</code>, <code>replace()</code> and 
<code>max()</code>.  (However you can use <code>max(a,b)</code> where <code>a</code> and <code>b</code>     are integers.)

<p>
<b>Note:</b> You may use <code>split()</code> on the line of input from the user and the multiple
concatenation operator <code>*</code>.

<h2>More examples</h2>
<p>
Some additional examples of the behavior of this program are given <a href=street-examples.html target=_blank>Street-Input-Output Examples</a>.

<h2>Errors</h2>
 <p>
 No error checking is required for this program. 

<!--
-->

<p/>
<hr/>
</body>
</html>

