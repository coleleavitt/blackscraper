<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<title>CSc 120: Basketball Data Analysis</title>
    <meta http-equiv="Content-type" content="text/html;charset=UTF-8" />
<link href="../../style.css" rel="stylesheet" type="text/css"/>

</head>
<body bgcolor="white">
<p>
<img src="../../IMGS/uadcs.gif" alt="University of Arizona, Department of Computer Science"/>
</p>

<h1>CSc 120: Basketball Data Analysis</h1>

This problem involves writing a program to analyze historical win-loss 
data for a single season of Division I NCAA women’s basketball teams and 
compute from this the win ratio for each team as well as the conference(s)
with the highest average win ratio.

<h2>Restrictions</h2>
<ol>
  <li>
    For the long problems, your code should follow the <a href="../../pgm-style.html" target="_blank">style guidelines</a>
    for the class.
  <li>
You may not use concepts and/or short-hand syntax not yet covered in class. The restrictions include the following:
<ul>
  <li>
 list (or dictionary) comprehensions, e.g., [n * 2 for i in range(10)]
  </li>
  <li>
 with open (explicitly open and close the file instead)
  </li>
  <li>
 the ternary operator (use an if instead)
  <li>
 nested functions (using def <i>within</i> a function to define another function)
  </li>
  <li>
 recursion
  </li>
  <li>
 exceptions and asssertions
  </li>
  <li>
 type annotations
  </li>
  <li>
 lambda expressions 
  </li>
  <li>
 generators and user defined iterators
  </li>
  <li>
 importing libraries (unless a library is explicitly mentioned in the specification)
  </li>
</ul>
  </li>
</ol>

<h2>Background</h2>

Whether it's football, basketball, lacrosse, or any other number of sports,
loyal fans want to support their teams and also size up the competition.
An important 
indicator of the quality of a team is its 
<a href="https://en.wikipedia.org/wiki/Winning_percentage">win ratio</a>
over a season, which is defined to be the fraction of wins in the total number 
of games that team played.  Thus, if a team plays N games and wins M of them, 
then its win ratio is M/N.  Assuming---as we will do for this problem---there 
are no tied games, a team with M wins and N losses has a win ratio of M/(M+N).  
The average win ratio for a conference in a given season is the average of the 
win ratios of all of the teams in that conference in that season.

<h2>Expected Behavior</h2>
Write a program, in a file <b><tt>bball.py</tt></b>, that behaves as follows.
<p/>
<ol>
  <li>
    Use <b><tt>input()</tt></b> (without arguments) to read the name of an
    input data file.
  </li>
  <li>
    Read and process the file specified (see '<b>Input</b>' below for the
    file format).  For each non-comment line in the file:
    <ul>
      <li>
	create a <b><tt>Team</tt></b> object from the line
	(see <b>Program Structure</b> below);
      </li>
      <li>
	parse the line to extract the appropriate data values;
      </li>
      <li>
	use these values to compute the team's win ratio;
      </li>
      <li>
	initialize the corresponding <b><tt>Team</tt></b> object appropriately.
      </li>
      <li>
	add the team to the list of teams in the appropriate conference,
	creating a conference if necessary.  
      </li>
    </ul>
  </li>
  <li>
    Compute the average win ratio for each conference and find the
    conference(s) that have the highest win ratio.
    <ul>
    <li>
    Your numbers for the averages must match the test cases exactly.
    </li>
    <li>
    <strong>To accomplish 
    this, you must compute the averages by first summing all of the relevant ratios 
    and doing the division <i>only once</i>.</strong>
    </li>
    </ul>
  </li>
  <li>
    Print out the results of your analysis in the format given below under
    <b>Output</b>.
    Some examples are shown <a href="EXAMPLES-bball.html" target="_blank">Basketball Input/Output Examples</a>.
  </li>
</ol>


<h2>Input</h2>
Any line in the input file that begins with &quot;<b><tt>#</tt></b>&quot; is a
comment and should be ignored.  Each non-coment line gives win-loss data for a
team and has the following format: team name (one or more words), followed by
conference name in parentheses (one or more words), followed by the number of
wins, followed by the number of losses.  For example:
<blockquote>
<pre># Division I Women's Basketball: 2015-16 Season
# School (Conference)	Wins	Losses
UConn (AAC)		       38     0
UC Riverside (Big West)	23     9
St. John's (NY) (Big East)	23     10
Arizona (Pac-12)	13	19</pre>
</blockquote>
<p/>
Note that the team name may consist of multiple words, some of which may be 
parenthesized, e.g., &quot;<tt>St. John’s (NY)</tt>&quot;.  The conference name is given by the 
rightmost parenthesized group of words in the line. Make sure to look at all of the provided input files before making decisions about how to process the lines and  extract the necessary data.
<p>
You may find the method <b><tt>s.rfind(chars)</tt></b> helpful. This will allow you to look for characters in <b><tt>s</tt></b> starting from the right-hand-side of the string.

<h2>Output</h2>

The output should be the conference name and win-loss average for all of the 
conferences with the best win ratio average, one conference per line, in the 
following format (the simplest way to get this into your code without any 
mistakes is to copy-paste it into your program and then editing the variable 
names appropriately):
<blockquote>
<b><tt>&quot;{} : {}&quot;.format(conf_name, conf_win_ratio_avg)</tt></b>
</blockquote>
where <b><tt>conf_name</tt></b> is the name of a conference and
<b><tt>conf_win_ratio_avg</tt></b> is the average win ratio for that
conference.
If more than one conference has the highest average win ratio, print them out in alphabetical order.
 Some examples are shown <a href="EXAMPLES-bball.html" target="_blank">Basketball Input/Output Examples</a>.


<h2>Programming Requirements</h2>

Your program should implement (at least) the following classes along with the methods specified.
<p/>
<blockquote>
<dl>
  <dt>
    <b><tt>class Team</tt></b>
  </dt>
  <dd>
    An object of this class represents information about a team: namely, the team name,
    the conference it belongs to, and win-loss data.
    This class should implement the following methods:
    <ul>
      <li>
	<b><tt>__init__(self, line)</tt></b> :
	<b><tt>line</tt></b> is a line read from the input file.
	Initializes the object with information
	extracted from <b><tt>line</tt></b>.  The information stored
	as attributes for each team should be sufficient to implement
	the other methods for the team specified below.
      </li>
      <li>
	<b><tt>name(self)</tt></b>: returns the name of the team.
      </li>
      <li>
	<b><tt>conf(self)</tt></b>: returns the conference the team belongs to.
      </li>
      <li>
	<b><tt>win_ratio(self)</tt></b>: returns the win ratio for the team.
      </li>
      <li>
	<b><tt>__str__(self)</tt></b>: returns a string with information about the team,
	in the following format:
	<blockquote>
	  <b><tt>"{} : {}".format(name, win_ratio_str)</tt></b>
	</blockquote>
	where <b><tt>name</tt></b> is the name of the team and
	<b><tt>win_ratio_str</tt></b> is its win ratio (as a string).
      </li>
    </ul>
    <p/>
  </dd>
  <dt>
    <b><tt>class Conference</tt></b>
  </dt>
  <dd>
    An object of this class represents information about a collection of teams, namely,
    the teams belonging to that conference.  This class should implement the
    following methods:
    <ul>
      <li>
	<b><tt>__init__(self, conf)</tt></b> : <b><tt>conf</tt></b> is a string
	giving the name of a conference.  
	Initializes a conference object with name <b><tt>conf</tt></b>.
	The list of teams for the conference is initialized to be empty.
      </li>
      <li>
	<b><tt>__contains__(self, team)</tt></b> : <b><tt>team</tt></b> is a
	<b><tt>Team</tt></b> object.  Returns <tt>True</tt> if
	<b><tt>team</tt></b> is in the list of teams for this conference;
	<tt>False</tt> otherwise.
      </li>
      <li>
	<b><tt>name(self)</tt></b>: returns the name of the conference object;
      </li>
      <li>
	<b><tt>add(self, team)</tt></b>: Takes a team object <b><tt>team</tt></b> as argument
	and adds <b><tt>team</tt></b> to the list of teams associated with the object;
      </li>
      <li>
	<b><tt>win_ratio_avg(self)</tt></b>: returns the average win ratio for the conference
	(a floating-point value).
      </li>
      <li>
	<b><tt>__str__(self)</tt></b>: returns a string with information about the conference,
	in the following format:
	<blockquote>
	  <b><tt>"{} : {}".format(name, win_ratio_str)</tt></b>
	</blockquote>
	where <b><tt>name</tt></b> is the name of the conference and
	<b><tt>win_ratio_str</tt></b> is its average win ratio (as a string).
      </li>
    </ul>
    <p/>
  </dd>

  <dt>
    <b><tt>class ConferenceSet</tt></b>
  </dt>
  <dd>
    An object of this class represents a collection of conferences. (You may use a list for the collection of conferences, or any other data structure of your choice.) This class should
    implement the following methods:
    <ul>
      <li>
	<b><tt>__init__(self)</tt></b> : 
	Initializes the collection of conferences to be empty.
      </li> 
     <li>
	<b><tt>add(self, team)</tt></b> : <b><tt>team</tt></b> is a <b><tt>Team</tt></b>
	object.  Adds <b><tt>team</tt></b> to the appropriate conference in the collection of
	conferences, if necessary creating a <b><tt>Conference</tt></b> object
	for the conference of this team.
      </li>
      <li>
	<b><tt>best(self)</tt></b> : returns a list of conferences that have the
	highest average win ratio.
      </li>
    </ul>
    <p/>
  </dd>
</dl>
</blockquote>
<p/>
You may find it convenient to also implement <b><tt>__repr__()</tt></b> methods for some of
these classes for debugging purposes.  This is optional.



<h2>Errors</h2>
There is no ouput related to errors for this program.

<h2>Examples</h2>

Several examples of this data analysis are given <a href="EXAMPLES-bball.html" target="_blank">Basketball Input/Output Examples</a>.

<p/>

<hr/>

</body>
</html>

